const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserComment-C2jKzhKF.js","assets/index-COkKONBE.js","assets/index-DkW-Ohla.css","assets/index-Dk8WGzr5.js"])))=>i.map(i=>d[i]);
import{r as a,u,j as e,F as h,d as j,H as f,f as y,h as g,_ as v}from"./index-COkKONBE.js";import{I as c,u as b}from"./index-Dk8WGzr5.js";import{a as C,H as N,P as _}from"./HomeAuthor-B4m_2iLV.js";import{a as m}from"./axios-upsvKRUO.js";function S({postId:r,comment:n,setComment:o}){const{author:s}=a.useContext(u),l="https://blugbackend-1.onrender.com/api/";function d(t){t.preventDefault(),o(""),m.post(`${l}post/addComment/${r}`,{id:s._id,username:s.username,profilePics:s.profilePics,comment:n}).then(i=>{i.data&&j("comment successfully added!",{variant:"success"})})}return e.jsxs("form",{onSubmit:d,className:"my-4 bg-secondaryColor p-2 rounded-2xl flex items-center relative",children:[e.jsx("div",{className:"size-[4rem] rounded-full overflow-hidden ",children:e.jsx(c,{path:s.profilePics})}),e.jsx("input",{type:"text",placeholder:`${s.username} type your comment...`,className:"rounded-2xl  text-2xl py-3 px-8 mx-3 bg-fadedColor w-full",onChange:t=>o(t.target.value)}),e.jsx("button",{className:" right-[2rem] bg-primaryColor py-5 px-7 rounded-2xl cursor-pointer",type:"submit",children:e.jsx(h,{})})]})}const w=a.lazy(()=>v(()=>import("./UserComment-C2jKzhKF.js"),__vite__mapDeps([0,1,2,3])));function E(){const r=window.location.search.split("?")[1],n="https://blugbackend-1.onrender.com/api/",o=x=>m.get(x).then(p=>p.data),{data:s,isLoading:l,error:d}=b(`${n}post/postid/${r}`,o),[t,i]=a.useState("");return e.jsx(e.Fragment,{children:s?e.jsxs("section",{children:[e.jsx(f,{title:`${s.title}`}),e.jsxs("div",{className:"my-12 flex justify-between",children:[e.jsxs("div",{className:"w-[50%]",children:[e.jsx("h2",{className:"text-6xl font-extrabold",children:s.title}),e.jsx(C,{author:s.author}),e.jsx(N,{}),e.jsxs("div",{className:" flex justify-between",children:[e.jsxs("div",{className:"flex text-3xl my-4 hover:bg-secondaryColor p-2 rounded-2xl",children:[e.jsx(y,{})," ",e.jsx("span",{children:"Save post"})]}),e.jsxs("div",{className:"flex text-3xl my-3 hover:bg-secondaryColor p-2 rounded-2xl cursor-pointer",children:[e.jsx(g,{})," ",e.jsx("span",{children:"Delete post"})]})]})]}),e.jsx("div",{className:"w-[40%] float-left",children:e.jsx(c,{path:s.imageUrl})})]}),e.jsx("div",{className:"text-2xl text-justify",dangerouslySetInnerHTML:{__html:s.body}}),e.jsx(_,{}),e.jsx(S,{postId:s._id,comment:t,setComment:i}),e.jsx(a.Suspense,{fallback:"loading",children:e.jsx(w,{comments:s.comments})})]}):e.jsx("p",{children:"invalid post id"})})}export{E as default};
