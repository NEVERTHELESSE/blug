import{r as c,u,j as o,L as m}from"./index-COkKONBE.js";import{u as p,I as g}from"./index-Dk8WGzr5.js";import{a as x}from"./axios-upsvKRUO.js";function w(){const t=window.localStorage.getItem("token"),r="https://blugbackend-1.onrender.com/api/",{setAuthor:n,author:e}=c.useContext(u),s=l=>x.get(l).then(d=>n(d.data[0])),{data:a,error:f,isLoading:h}=p(`${r}user/usertoken/${t}`,s);function i(){window.localStorage.removeItem("token"),window.location.reload()}return o.jsx("div",{children:a?o.jsxs("details",{children:[o.jsx("summary",{className:"size-10 rounded-full overflow-hidden bg-gradient-to-r from-secondaryColor to-fadedColor list-none",children:o.jsx("abbr",{title:e.username,children:o.jsx(g,{path:e.profilePics})})}),o.jsx("button",{onClick:i,children:"logout"})]}):o.jsx(m,{to:"/signup",className:"bg-primaryColor p-2 rounded-lg font-bold animate-pulse",children:"signup"})})}export{w as default};
